{"version":3,"file":"vwo-fme-react-sdk.cjs.development.js","sources":["../lib/logger/Logger.ts","../lib/logger/enums/LogLevelEnum.ts","../lib/logger/transports/ConsoleTransport.ts","../lib/logger/LogMessageBuilder.ts","../lib/utils/DataTypeUtil.ts","../lib/logger/core/TransportManager.ts","../lib/logger/core/LogManager.ts","../lib/services/LoggerService.ts","../lib/VWOContext.ts","../lib/VWOProvider.tsx","../lib/useVWOClient.ts","../lib/useGetFlag.ts","../lib/useGetFlagVariable.ts","../lib/useTrackEvent.ts","../lib/useSetAttribute.ts"],"sourcesContent":["/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Abstract class representing a logger.\n * This class provides the structure for logging mechanisms and should be extended by specific logger implementations.\n */\nexport abstract class Logger {\n  /**\n   * Logs a message at the trace level.\n   * @param {string} message - The message to log.\n   */\n  abstract trace(message: string): void;\n\n  /**\n   * Logs a message at the debug level.\n   * @param {string} message - The message to log.\n   */\n  abstract debug(message: string): void;\n\n  /**\n   * Logs a message at the info level.\n   * @param {string} message - The message to log.\n   */\n  abstract info(message: string): void;\n\n  /**\n   * Logs a message at the warn level.\n   * @param {string} message - The message to log.\n   */\n  abstract warn(message: string): void;\n\n  /**\n   * Logs a message at the error level.\n   * @param {string} message - The message to log.\n   */\n  abstract error(message: string): void;\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum LogLevelEnum {\n  TRACE = 'trace',\n  DEBUG = 'debug',\n  INFO = 'info',\n  WARN = 'warn',\n  ERROR = 'error',\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { LogLevelEnum } from '../enums/LogLevelEnum';\nimport { Logger } from '../Logger';\n\n/**\n * ConsoleTransport class implements the Logger interface to provide logging functionality.\n * It outputs logs to the console based on the log level set in the configuration.\n */\nexport class ConsoleTransport implements Logger {\n  config: Record<string, any>; // Configuration object for the logger\n  level: string; // Current log level\n\n  /**\n   * Constructor initializes the ConsoleTransport with a configuration object.\n   * @param {Record<string, any>} config - Configuration settings for the logger, including 'level'.\n   */\n  constructor(config: Record<string, any> = {}) {\n    this.config = config; // Store the configuration\n    this.level = this.config.level; // Set the logging level from the configuration\n  }\n\n  /**\n   * Logs a trace message.\n   * @param {string} message - The message to log.\n   */\n  trace(message: string): void {\n    this.consoleLog(LogLevelEnum.TRACE, message);\n  }\n\n  /**\n   * Logs a debug message.\n   * @param {string} message - The message to log.\n   */\n  debug(message: string): void {\n    this.consoleLog(LogLevelEnum.DEBUG, message);\n  }\n\n  /**\n   * Logs an informational message.\n   * @param {string} message - The message to log.\n   */\n  info(message: string): void {\n    this.consoleLog(LogLevelEnum.INFO, message);\n  }\n\n  /**\n   * Logs a warning message.\n   * @param {string} message - The message to log.\n   */\n  warn(message: string): void {\n    this.consoleLog(LogLevelEnum.WARN, message);\n  }\n\n  /**\n   * Logs an error message.\n   * @param {string} message - The message to log.\n   */\n  error(message: string): void {\n    this.consoleLog(LogLevelEnum.ERROR, message);\n  }\n\n  /**\n   * Generic log function that logs messages to the console based on the log level.\n   * @param {string} level - The log level under which the message should be logged.\n   * @param {string} message - The message to log.\n   */\n  consoleLog(level: string, message: string): void {\n    console[level](message); // Use console's logging function dynamically based on the level\n  }\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { dynamic } from '../types/Common';\nimport { LogLevelEnum } from './enums/LogLevelEnum';\n\n/**\n * Interface defining the structure for a log message builder.\n */\ninterface ILogMessageBuilder {\n  loggerConfig: Record<string, dynamic>; // Configuration for the logger\n  transportConfig: Record<string, dynamic>; // Configuration for the transport mechanism\n  prefix: string; // Prefix to be added to each log message\n  dateTimeFormat: dynamic; // Function or format for date and time in log messages\n\n  formatMessage(level: string, message: string): string; // Method to format a log message\n  getFormattedLevel(level: string): string; // Method to format the log level\n  getFormattedDateTime(): string; // Method to get formatted date and time\n}\n\n/**\n * Implements the ILogMessageBuilder interface to provide a concrete log message builder.\n */\nexport class LogMessageBuilder implements ILogMessageBuilder {\n  loggerConfig: Record<string, any>;\n  transportConfig: Record<string, any>;\n  prefix: string;\n  dateTimeFormat: any;\n\n  /**\n   * Constructs a new LogMessageBuilder instance.\n   * @param {Record<string, any>} loggerConfig - Configuration for the logger.\n   * @param {Record<string, any>} transportConfig - Configuration for the transport mechanism.\n   */\n  constructor(loggerConfig: Record<string, any>, transportConfig: Record<string, any>) {\n    this.loggerConfig = loggerConfig;\n    this.transportConfig = transportConfig;\n\n    // Set the prefix, defaulting to an empty string if not provided.\n    this.prefix = this.transportConfig.prefix || this.loggerConfig.prefix || '';\n    // Set the date and time format, defaulting to the logger's format if the transport's format is not provided.\n    this.dateTimeFormat = this.transportConfig.dateTimeFormat || this.loggerConfig.dateTimeFormat;\n  }\n\n  /**\n   * Formats a log message combining level, prefix, date/time, and the actual message.\n   * @param {string} level - The log level.\n   * @param {string} message - The message to log.\n   * @returns {string} The formatted log message.\n   */\n  formatMessage(level: string, message: string): string {\n    return `[${this.getFormattedLevel(level)}]: ${this.getFormattedPrefix(this.prefix)} ${this.getFormattedDateTime()} ${message}`;\n  }\n\n  getFormattedPrefix(prefix: string): string {\n    return `${prefix}`;\n  }\n\n  /**\n   * Returns the formatted log level with appropriate coloring based on the log level.\n   * @param {string} level - The log level.\n   * @returns {string} The formatted log level.\n   */\n  getFormattedLevel(level: string): string {\n    const upperCaseLevel = level.toUpperCase();\n    let LogLevelColorInfoEnum;\n\n    LogLevelColorInfoEnum = {\n      [LogLevelEnum.TRACE]: upperCaseLevel,\n      [LogLevelEnum.DEBUG]: upperCaseLevel,\n      [LogLevelEnum.INFO]: upperCaseLevel,\n      [LogLevelEnum.WARN]: upperCaseLevel,\n      [LogLevelEnum.ERROR]: upperCaseLevel,\n    };\n\n    return LogLevelColorInfoEnum[level];\n  }\n\n  /**\n   * Retrieves the current date and time formatted according to the specified format.\n   * @returns {string} The formatted date and time.\n   */\n  getFormattedDateTime(): string {\n    return this.dateTimeFormat();\n  }\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { dynamic } from '../types/Common';\n\ntype FunctionType = (val: dynamic) => void;\n\n/**\n * Checks if a value is a function.\n * @param val The value to check.\n * @returns True if the value is a function, false otherwise.\n */\nexport function isFunction(val: dynamic): val is FunctionType {\n  return Object.prototype.toString.call(val) === '[object Function]';\n}\n\n/**\n * Checks if a value is an object (excluding arrays, functions, regex, promises, and dates).\n * @param val The value to check.\n * @returns True if the value is a valid object, false otherwise.\n */\nexport function isObject<T>(\n  val: T,\n): val is Record<any, dynamic> & Exclude<T, Array<dynamic> | FunctionType | RegExp | Promise<dynamic> | Date> {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Checks if a value is a string.\n * @param val The value to check.\n * @returns True if the value is a string, false otherwise.\n */\nexport function isString(val: dynamic): val is string {\n  return typeof val === 'string' || Object.prototype.toString.call(val) === '[object String]';\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { dynamic } from '../../types/Common';\nimport { LogLevelEnum } from '../enums/LogLevelEnum';\nimport { LogMessageBuilder } from '../LogMessageBuilder';\nimport { Logger } from '../Logger';\nimport { isFunction } from '../../utils/DataTypeUtil';\n\nenum LogLevelNumberEnum {\n  TRACE = 0,\n  DEBUG = 1,\n  INFO = 2,\n  WARN = 3,\n  ERROR = 4,\n}\n\ninterface IlogTransport extends Logger {\n  transports: Array<Record<string, dynamic>>;\n  config: Record<string, dynamic>;\n\n  // Determines if a message should be logged based on the transport and configuration levels\n  shouldLog(transportLevel: string, configLevel: string): boolean;\n  // Logs a message at a specified level\n  log(level: string, message: string): void;\n}\n\n/**\n * Manages logging transports and delegates logging messages to them based on configuration.\n * Implements the IlogTransport interface.\n */\nexport class LogTransportManager implements IlogTransport {\n  transports: Array<Record<string, any>>;\n  config: Record<string, any>;\n\n  /**\n   * Initializes the manager with a configuration object.\n   * @param {Record<string, any>} config - Configuration settings for the log manager.\n   */\n  constructor(config: Record<string, any>) {\n    this.transports = [];\n    this.config = config;\n  }\n\n  /**\n   * Adds a new transport to the manager.\n   * @param {Record<string, any>} transport - The transport object to be added.\n   */\n  addTransport(transport: Record<string, any>): void {\n    this.transports.push(transport);\n  }\n\n  /**\n   * Determines if the log should be processed based on the transport and configuration levels.\n   * @param {string} transportLevel - The log level set for the transport.\n   * @param {string} configLevel - The log level set in the configuration.\n   * @returns {boolean} - Returns true if the log level is appropriate for logging, false otherwise.\n   */\n  shouldLog(transportLevel: string, configLevel: string): boolean {\n    // Default to the most specific level available\n    // transportLevel = transportLevel || configLevel || this.config.level;\n\n    const targetLevel = LogLevelNumberEnum[transportLevel.toUpperCase()];\n    const desiredLevel = LogLevelNumberEnum[(configLevel || this.config.level).toUpperCase()];\n\n    return targetLevel >= desiredLevel;\n  }\n\n  /**\n   * Logs a message at TRACE level.\n   * @param {string} message - The message to log.\n   */\n  trace(message: string): void {\n    this.log(LogLevelEnum.TRACE, message);\n  }\n\n  /**\n   * Logs a message at DEBUG level.\n   * @param {string} message - The message to log.\n   */\n  debug(message: string): void {\n    this.log(LogLevelEnum.DEBUG, message);\n  }\n\n  /**\n   * Logs a message at INFO level.\n   * @param {string} message - The message to log.\n   */\n  info(message: string): void {\n    this.log(LogLevelEnum.INFO, message);\n  }\n\n  /**\n   * Logs a message at WARN level.\n   * @param {string} message - The message to log.\n   */\n  warn(message: string): void {\n    this.log(LogLevelEnum.WARN, message);\n  }\n\n  /**\n   * Logs a message at ERROR level.\n   * @param {string} message - The message to log.\n   */\n  error(message: string): void {\n    this.log(LogLevelEnum.ERROR, message);\n  }\n\n  /**\n   * Delegates the logging of messages to the appropriate transports.\n   * @param {string} level - The level at which to log the message.\n   * @param {string} message - The message to log.\n   */\n  log(level: string, message: string): void {\n    for (let i = 0; i < this.transports.length; i++) {\n      const logMessageBuilder = new LogMessageBuilder(this.config, this.transports[i]);\n      const formattedMessage = logMessageBuilder.formatMessage(level, message);\n      if (this.shouldLog(level, this.transports[i].level)) {\n        if (this.transports[i].log && isFunction(this.transports[i].log)) {\n          // Use custom log handler if available\n          this.transports[i].log(level, message);\n        } else {\n          // Otherwise, use the default log method\n          this.transports[i][level](formattedMessage);\n        }\n      }\n    }\n  }\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { dynamic } from '../../types/Common';\n\nimport { Logger } from '../Logger';\nimport { ConsoleTransport } from '../transports/ConsoleTransport';\nimport { LogTransportManager } from './TransportManager';\nimport { LogLevelEnum } from '../enums/LogLevelEnum';\n\n/**\n * Interface defining the structure and methods for LogManager.\n */\nexport interface ILogManager {\n  transportManager?: LogTransportManager;\n  config?: Record<string, dynamic>;\n  name?: string;\n  requestId?: string;\n  level: string;\n  prefix?: string;\n  dateTimeFormat?: () => string;\n\n  transport?: Record<string, dynamic>;\n  transports?: Array<Record<string, dynamic>>;\n\n  addTransport?(transportObject: Record<string, dynamic>): void;\n  addTransports?(transportsList: Array<Record<string, dynamic>>): void;\n}\n\n/**\n * LogManager class provides logging functionality with support for multiple transports.\n * It is designed as a singleton to ensure a single instance throughout the application.\n */\nexport class LogManager extends Logger implements ILogManager {\n  private static instance: LogManager; // Singleton instance of LogManager\n  transportManager: LogTransportManager;\n  config: Record<string, any>;\n  name = 'VWO Logger'; // Default logger name\n  requestId = new Date().getTime().toString(); // current timestamp in milliseconds\n  level = LogLevelEnum.ERROR; // Default logging level\n  prefix = 'VWO-SDK'; // Default prefix for log messages\n  public dateTimeFormat(): string {\n    return new Date().toISOString(); // Default date-time format for log messages\n  }\n  transport: Record<string, any>;\n  transports: Array<Record<string, any>>;\n\n  /**\n   * Constructor for LogManager.\n   * @param {Record<string, any>} config - Configuration object for LogManager.\n   */\n  constructor(config?: Record<string, any>) {\n    super();\n\n    this.config = config;\n\n    if (config.isAlwaysNewInstance || !LogManager.instance) {\n      LogManager.instance = this;\n\n      // Initialize configuration with defaults or provided values\n      this.config.name = config.name || this.name;\n      this.config.requestId = config.requestId || this.requestId;\n      this.config.level = config.level || this.level;\n      this.config.prefix = config.prefix || this.prefix;\n      this.config.dateTimeFormat = config.dateTimeFormat || this.dateTimeFormat;\n\n      this.transportManager = new LogTransportManager(this.config);\n\n      this.handleTransports();\n    }\n\n    return LogManager.instance;\n  }\n\n  /**\n   * Provides access to the singleton instance of LogManager.\n   * @returns {LogManager} The singleton instance.\n   */\n  static get Instance(): LogManager {\n    return LogManager.instance;\n  }\n\n  /**\n   * Handles the initialization and setup of transports based on configuration.\n   */\n  handleTransports(): void {\n    this.addTransport(\n      new ConsoleTransport({\n        level: this.config.level,\n      }),\n    );\n  }\n\n  /**\n   * Adds a single transport to the LogManager.\n   * @param {Record<any, any>} transport - The transport object to add.\n   */\n  addTransport(transport: Record<any, any>): void {\n    this.transportManager.addTransport(transport);\n  }\n\n  /**\n   * Adds multiple transports to the LogManager.\n   * @param {Array<Record<any, any>>} transports - The list of transport objects to add.\n   */\n  addTransports(transports: Record<any, any>): void {\n    for (let i = 0; i < transports.length; i++) {\n      this.addTransport(transports[i]);\n    }\n  }\n\n  /**\n   * Logs a trace message.\n   * @param {string} message - The message to log at trace level.\n   */\n  trace(message: string): void {\n    this.transportManager.log(LogLevelEnum.TRACE, message);\n  }\n\n  /**\n   * Logs a debug message.\n   * @param {string} message - The message to log at debug level.\n   */\n  debug(message: string): void {\n    this.transportManager.log(LogLevelEnum.DEBUG, message);\n  }\n\n  /**\n   * Logs an informational message.\n   * @param {string} message - The message to log at info level.\n   */\n  info(message: string): void {\n    this.transportManager.log(LogLevelEnum.INFO, message);\n  }\n\n  /**\n   * Logs a warning message.\n   * @param {string} message - The message to log at warn level.\n   */\n  warn(message: string): void {\n    this.transportManager.log(LogLevelEnum.WARN, message);\n  }\n\n  /**\n   * Logs an error message.\n   * @param {string} message - The message to log at error level.\n   */\n  error(message: string): void {\n    this.transportManager.log(LogLevelEnum.ERROR, message);\n  }\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * logger.ts - Global Logger Singleton\n */\nimport { LogManager } from '../logger/core/LogManager';\n\nlet logger: LogManager | null = null;\n\n/**\n * Initializes the global logger instance.\n * This function should be called inside `VWOProvider` before logging is used anywhere in the application.\n *\n * @param {object} config - The logger configuration object.\n * @param {object} config.logger - Optional logging configuration (e.g., log level, transports).\n * @returns {void} No return value; initializes the logger instance.\n */\nexport function initLogger(config: any) {\n  if (!logger) {\n    logger = new LogManager(config.logger || {});\n  }\n}\n\n/**\n * Retrieves the global logger instance.\n * Ensures that `initLogger` has been called before attempting to use logging.\n *\n * @returns {LogManager} The global logger instance.\n */\nexport function getLogger(): LogManager {\n  if (!logger) {\n    logger = new LogManager({ level: 'error' });\n  }\n  return logger;\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContext, useContext } from 'react';\nimport { getLogger } from './services/LoggerService';\n/**\n * Context for VWO SDK\n */\nexport const VWOContext = createContext<any>({\n  vwoClient: null,\n  userContext: {},\n});\n\n/**\n * Hook to use the VWO context\n * @returns VWO context\n */\nexport const useVWOContext = () => {\n  const logger = getLogger();\n  try {\n    // Fetch the context\n    const context = useContext(VWOContext);\n\n    // If the context is not found, throw an error\n    if (!context) {\n      logger.error('useVWOContext must be used within a VWOProvider');\n      return null;\n    }\n    return context;\n  } catch (error) {\n    logger.error(`Error in useVWOContext hook: ${error}`);\n    return null;\n  }\n};\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState, useRef, ReactNode } from 'react';\nimport { init } from 'vwo-fme-node-sdk'; \nimport { VWOContext } from './VWOContext';\nimport { initLogger, getLogger } from './services/LoggerService';\nimport { isObject } from './utils/DataTypeUtil';\n\n/**\n * Props for VWOProvider\n */\ninterface VWOProviderProps {\n  client?: any;\n  config?: any;\n  context: any;\n  children: ReactNode;\n}\n\n/**\n * VWOProvider component to provide the VWO SDK instance and context to the app\n * @param client - VWO SDK instance\n * @param config - VWO SDK config (initialization config)\n * @param context - VWO SDK context (userContext)\n * @param children - React children (ReactNode)\n * @returns VWOProvider component\n */\nexport const VWOProvider = ({ client, config, context, children }: VWOProviderProps) => {\n  const [vwoClient, setVwoClient] = useState<any>(client || null);\n  const vwoClientRef = useRef<any>(vwoClient);\n  const isMounted = useRef(true);\n\n  // Initialize logger globally before using it\n  useEffect(() => {\n    if (config?.logger) {\n      initLogger(config);\n    }\n  }, [config]);\n\n  const logger = getLogger();\n\n  // Initialize the VWO SDK instance when the component mounts\n  useEffect(() => {\n    if (!vwoClient && !config) {\n      logger.error(\"VWOProvider Error: Either `client` or `config` must be provided.\");\n      return;\n    }\n\n    if (!context || !isObject(context)) {\n      logger.error(\"VWOProvider Error: `context` is required and must be a valid object.\");\n      return;\n    }\n\n    isMounted.current = true;\n\n    async function initializeVWO() {\n      if (!vwoClient && config) {\n        try {\n          // Initialize the VWO SDK instance\n          const instance = await init(config);\n\n          if (isMounted.current) {\n            // Update the VWO SDK instance\n            setVwoClient(instance);\n            // Update the ref with the new instance\n            vwoClientRef.current = instance;\n          }\n        } catch (error) {\n          logger.error(\"VWO-SDK Initialization failed:\");\n        }\n      }\n    }\n\n    // Initialize the VWO SDK instance\n    initializeVWO();\n\n    // Cleanup the VWO SDK instance when the component unmounts\n    return () => {\n      isMounted.current = false;\n      if (vwoClientRef.current?.destroy) vwoClientRef.current.destroy();\n    };\n  }, [vwoClient, config]);\n\n  // Provide the VWO SDK instance and context to the app\n  return (\n    <VWOContext.Provider value={{ vwoClient, userContext: context }}>\n      {children}\n    </VWOContext.Provider>\n  );\n}\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getLogger } from './services/LoggerService';\nimport { useVWOContext } from './VWOContext';\n\n/**\n * Returns the VWO SDK client instance\n * @returns VWO SDK client instance\n */\nexport const useVWOClient = () => {\n  const logger = getLogger();\n  try {\n    const context = useVWOContext();\n\n    // If the VWO SDK client is not found, throw an error\n    if (!context || !context.vwoClient) {\n      logger.error('useVWOClient must be used within a VWOProvider !!');\n      return null;\n    }\n\n    // Return the VWO SDK client\n    return context.vwoClient;\n  } catch (error) {\n    logger.error(`Error in useVWOClient hook: ${error}`);\n    return null;\n  }\n};\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { useVWOContext } from './VWOContext';\nimport { getLogger } from './services/LoggerService';\nimport { isObject } from './utils/DataTypeUtil';\nimport { dynamic } from './types/Common';\n\n/**\n * Hook to get a feature flag value\n * @param featureKey - The key of the feature flag to get\n * @returns The feature flag value\n */\nexport const useGetFlag = (featureKey: string) => {\n  // This is the return schema for the flag if the feature key is not found or the flag is not enabled\n  const errorReturnSchema = {\n    isEnabled: (): boolean => false,\n    getVariables: (): Array<Record<string, dynamic>> => [],\n    getVariable: (_key: string, defaultValue: any): dynamic => defaultValue,\n  };\n  const logger = getLogger();\n  try {\n    if (!featureKey) {\n      logger.error('Feature key is required for useGetFlag hook');\n      return errorReturnSchema;\n    }\n\n    const [flag, setFlag] = useState<any | null>(null);\n    const { vwoClient, userContext } = useVWOContext();\n\n    if (!vwoClient) {\n      logger.error('VWO Client is missing in useGetFlag hook. Ensure VWOProvider is correctly initialized.');\n      return errorReturnSchema;\n    }\n\n    if (!userContext || !isObject(userContext)) {\n      logger.error('Invalid user context in useGetFlag hook. Ensure a valid userContext is provided.');\n      return errorReturnSchema;\n    }\n\n    // Memoize the userContext to avoid unnecessary re-fetching\n    const stableUserContext = useMemo(() => userContext, [userContext]);\n\n    // Memoize the getFlag function to avoid re-creation\n    const getFlag = useMemo(() => {\n      return async () => {\n        try {\n          const result = await vwoClient.getFlag(featureKey, stableUserContext);\n          setFlag(result);\n        } catch (error) {\n          logger.error(`Error fetching feature flag \"${featureKey}\": ${error}`);\n          setFlag({});\n        }\n      };\n    }, [featureKey, vwoClient, stableUserContext]);\n\n    // Runs only when `getFlag` reference changes\n    useEffect(() => {\n      getFlag();\n    }, [getFlag]);\n\n    return flag;\n  } catch (error) {\n    logger.error(`Error getting feature flag: ${error}`);\n    return errorReturnSchema;\n  }\n};\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isObject } from './utils/DataTypeUtil';\nimport { getLogger } from './services/LoggerService';\n\n/**\n * Hook to get all variables from a flag\n * @param flag - The flag to get the variables from\n * @returns The variables from the flag\n */\nexport const useGetFlagVariables = (flag: any) => {\n  const logger = getLogger();\n  try {\n    if (!flag || !isObject(flag)) {\n      logger.error('Flag is required for useGetFlagVariables hook and should be an object');\n      return [];\n    }\n\n    return flag.getVariables();\n  } catch (error) {\n    logger.error(`Error getting flag variables: ${error}`);\n    return [];\n  }\n};\n\n/**\n * Hook to get a flag variable\n * @param flag - The flag to get the variable from\n * @param variableKey - The key of the variable to get\n * @param defaultValue - The default value to return if the variable is not found\n * @returns The value of the variable\n */\nexport const useGetFlagVariable = (flag: any, variableKey: string, defaultValue: any) => {\n  const logger = getLogger();\n  try {\n    if (!flag || !isObject(flag)) {\n      logger.error('Flag is required for useGetFlagVariable hook and should be an object');\n      return [];\n    }\n\n    if (!flag || !variableKey) {\n      logger.error('Flag and variable key are required for useGetFlagVariable hook');\n      return defaultValue;\n    }\n\n    return flag.getVariable(variableKey, defaultValue);\n  } catch (error) {\n    logger.error(`Error getting flag variable: ${error}`);\n    return defaultValue;\n  }\n};\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getLogger } from './services/LoggerService';\nimport { useVWOContext } from './VWOContext';\nimport { isObject, isString } from './utils/DataTypeUtil';\n\n/**\n * Hook to track an event\n * @param eventName - The name of the event to track\n * @param eventProperties - The properties of the event to track (optional)\n */\nexport const useTrackEvent = (eventName: string, eventProperties: Record<string, string> = {}) => {\n  const logger = getLogger();\n  try {\n    if (!eventName && !isString(eventName)) {\n      logger.error('Event name is required for useTrackEvent hook and it should be a string');\n      return;\n    }\n\n    // Fetch the vwoClient and userContext from the context\n    const { vwoClient, userContext } = useVWOContext();\n\n    if (!vwoClient) {\n      logger.error('VWO Client is missing in useTrackEvent hook. Ensure VWOProvider is correctly initialized.');\n      return {};\n    }\n\n    if (!userContext || !isObject(userContext)) {\n      logger.error('Invalid user context in useTrackEvent hook. Ensure a valid userContext is provided.');\n      return {};\n    }\n\n    // Track the event\n    vwoClient.trackEvent(eventName, userContext, eventProperties);\n  } catch (error) {\n    logger.error(`Error tracking event: ${error}`);\n  }\n};\n","/**\n * Copyright 2025 Wingify Software Pvt. Ltd.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useVWOContext } from './VWOContext';\nimport { isObject } from './utils/DataTypeUtil';\nimport { getLogger } from './services/LoggerService';\n\n/**\n * Hook to set attributes for the user\n * @param attributeMap - The map of attributes to set\n */\nexport const useSetAttribute = (attributeMap: Record<string, string>) => {\n  const logger = getLogger();\n  try {\n    if (!attributeMap || !isObject(attributeMap) || Object.keys(attributeMap).length === 0) {\n      logger.error(\n        'attributeMap(object having key-value pairs of user attributes) is required for useSetAttribute hook',\n      );\n      return;\n    }\n\n    // Fetch the vwoClient and userContext from the context\n    const { vwoClient, userContext } = useVWOContext();\n\n    if (!userContext || !isObject(userContext)) {\n      logger.error('Invalid user context in useSetAttribute hook. Ensure a valid userContext is provided.');\n      return {};\n    }\n\n    // Set the attributes\n    vwoClient.setAttribute(attributeMap, userContext);\n  } catch (error) {\n    logger.error(`Error setting attributes: ${error}`);\n  }\n};\n"],"names":["Logger","LogLevelEnum","ConsoleTransport","constructor","config","level","trace","message","consoleLog","TRACE","debug","DEBUG","info","INFO","warn","WARN","error","ERROR","console","LogMessageBuilder","loggerConfig","transportConfig","prefix","dateTimeFormat","formatMessage","getFormattedLevel","getFormattedPrefix","getFormattedDateTime","upperCaseLevel","toUpperCase","LogLevelColorInfoEnum","isFunction","val","Object","prototype","toString","call","isObject","isString","LogLevelNumberEnum","LogTransportManager","transports","addTransport","transport","push","shouldLog","transportLevel","configLevel","targetLevel","desiredLevel","log","i","length","logMessageBuilder","formattedMessage","LogManager","Date","getTime","isAlwaysNewInstance","instance","name","requestId","transportManager","handleTransports","toISOString","Instance","addTransports","logger","initLogger","getLogger","VWOContext","createContext","vwoClient","userContext","useVWOContext","context","useContext","VWOProvider","client","children","setVwoClient","useState","vwoClientRef","useRef","isMounted","useEffect","current","initializeVWO","init","destroy","React","Provider","value","useVWOClient","useGetFlag","featureKey","errorReturnSchema","isEnabled","getVariables","getVariable","_key","defaultValue","flag","setFlag","stableUserContext","useMemo","getFlag","result","useGetFlagVariables","useGetFlagVariable","variableKey","useTrackEvent","eventName","eventProperties","trackEvent","useSetAttribute","attributeMap","keys","setAttribute"],"mappings":"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"}